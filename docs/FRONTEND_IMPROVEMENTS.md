# üöÄ –£–ª—É—á—à–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ ERP.AP.KZ

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è erp.ap.kz –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **Pinia Stores –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

#### DialogStore - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞–º–∏
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import { useDialog } from '@/shared/composables/useDialog'

const { isOpen, open, close } = useDialog('create-user')

// –û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥
open({ userId: 123 })

// –ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥
close()
```

#### ChatStore - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import { useChatStore } from '@/stores/chatStore'

const chatStore = useChatStore()

// –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–∞—Ç—ã
await chatStore.loadChats()

// –í—ã–±—Ä–∞—Ç—å —á–∞—Ç
chatStore.selectChat(chat)

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
await chatStore.sendMessage(messageData)
```

### 2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤**

#### UniversalDialog - –ï–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤
```vue
<template>
  <UniversalDialog
    name="create-user"
    title="–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    width="600px"
    @confirm="handleCreate"
  >
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏–∞–ª–æ–≥–∞ -->
  </UniversalDialog>
</template>
```

### 3. **–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å Zod**

#### –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```typescript
import { userValidationSchema } from '@/shared/lib/validation'

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
const { form, errors, validate } = useForm(userValidationSchema)

// –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—è
validateField('email')
```

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ö–µ–º—ã:
- `userValidationSchema` - –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `chatValidationSchema` - –¥–ª—è —á–∞—Ç–æ–≤
- `organizationValidationSchema` - –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- `clientValidationSchema` - –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `templateValidationSchema` - –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

### 4. **–°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**

#### API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
```typescript
import { useApiCache } from '@/shared/composables/useCache'

const { data, loading, execute } = useApiCache(
  () => api.getUsers(),
  'users',
  300000 // 5 –º–∏–Ω—É—Ç
)

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
await execute()

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
await execute(true)
```

### 5. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### ChatCard - –ö–∞—Ä—Ç–æ—á–∫–∞ —á–∞—Ç–∞
```vue
<template>
  <ChatCard
    :chat="chat"
    :selected="isSelected"
    @select="handleSelect"
  />
</template>
```

#### VirtualList - –í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
```vue
<template>
  <VirtualList
    :items="items"
    :item-height="120"
    :container-height="400"
  >
    <template #default="{ item }">
      <ItemComponent :item="item" />
    </template>
  </VirtualList>
</template>
```

### 6. **–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
import { useErrorHandler } from '@/shared/composables/useErrorHandler'

const { handleError, handleApiError } = useErrorHandler()

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ã—á–Ω–æ–π –æ—à–∏–±–∫–∏
handleError(error, 'UserForm')

// –û–±—Ä–∞–±–æ—Ç–∫–∞ API –æ—à–∏–±–∫–∏
handleApiError(error, 'UserAPI')
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API**: –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ 60-80%
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤**: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- **Lazy loading**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –£–ø—Ä–æ—â–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –°–Ω–∏–∂–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ 70%
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –£–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏**: –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π UI
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –õ—É—á—à–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üîß –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### 1. –ó–∞–º–µ–Ω–∞ –¥–∏–∞–ª–æ–≥–æ–≤
```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
const showDialog = ref(false)
const openDialog = () => { showDialog.value = true }

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±
const { isOpen, open, close } = useDialog('dialog-name')
```

### 2. –ó–∞–º–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
const validateForm = () => {
  if (!form.name) {
    errors.name = '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'
  }
}

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±
const { form, errors, validate } = useForm(userValidationSchema)
```

### 3. –ó–∞–º–µ–Ω–∞ API –≤—ã–∑–æ–≤–æ–≤
```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
const loadData = async () => {
  loading.value = true
  try {
    const response = await api.getData()
    data.value = response.data
  } finally {
    loading.value = false
  }
}

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±
const { data, loading, execute } = useApiCache(
  () => api.getData(),
  'data-key'
)
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é

### 1. **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è composables
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è stores
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

### 3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
- Service Workers –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Code splitting –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í–Ω–µ—Å–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç. –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–∞ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞–∏–±–æ–ª–µ–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
